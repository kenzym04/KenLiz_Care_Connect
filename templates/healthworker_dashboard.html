{% extends "base.html" %}

{% block title %}Dashboard - {{ healthworker.name }}{% endblock %}

{% block content %}
<style>
    body {
        font-family: 'Helvetica Neue', Arial, sans-serif;
        background-color: #f8f9fa;
    }

    .container {
        max-width: 1000px;
        margin: auto;
        padding: 20px;
        background: #fff;
        border-radius: 5px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }

    h2, h3 {
        color: #343a40;
    }

    .btn-primary {
        background-color: #007bff;
        border-color: #007bff;
    }

    .btn-primary:hover {
        background-color: #0056b3;
        border-color: #004085;
    }

    .form-group {
        margin-bottom: 20px;
    }

    .form-control {
        width: 100%;
        padding: 10px;
        font-size: 16px;
        border: 1px solid #ccc;
        border-radius: 4px;
    }
</style>

<div class="container mt-5 mb-5">
    <h2 class="text-center mb-4">{{ healthworker.name }}, Welcome to your dashboard</h2>

    <div class="profile-section">
        <h3>Profile Details</h3>
        <form method="POST" action="{{ url_for('healthworker_update_profile', id=healthworker.id) }}">
            <div class="form-group">
                <label for="name">Full Name:</label>
                <input type="text" class="form-control" id="name" name="name" value="{{ healthworker.name }}" required>
            </div>
            <div class="form-group">
                <label for="email">Email:</label>
                <input type="email" class="form-control" id="email" name="email" value="{{ healthworker.email }}" required>
            </div>
            <div class="form-group">
                <label for="phone">Phone Number: <small class="form-text">Kindly ensure your phone number is in international format (e.g., +1234567890)</small></label>
                <input type="text" class="form-control" id="phone" name="phone" value="{{ healthworker.phone }}" placeholder="+1234567890" required>
            </div>
            <div class="form-group">
                <label for="address">Address:</label>
                <input type="text" class="form-control" id="address" name="address" value="{{ healthworker.address }}" required>
                <small id="addressHelp" class="form-text text-muted">Maximum 255 characters.</small>
            </div>
            <div class="form-group">
                <label for="qualifications">Qualifications:</label>
                <select class="form-control" id="qualifications" name="qualifications" required>
                    <option value="High School Diploma" {% if healthworker.qualifications == 'High School Diploma' %}selected{% endif %}>High School Diploma</option>
                    <option value="Certificate" {% if healthworker.qualifications == 'Certificate' %}selected{% endif %}>Certificate</option>
                    <option value="Diploma" {% if healthworker.qualifications == 'Diploma' %}selected{% endif %}>Diploma</option>
                    <option value="Associate Degree" {% if healthworker.qualifications == 'Associate Degree' %}selected{% endif %}>Associate Degree</option>
                    <option value="Bachelor's Degree" {% if healthworker.qualifications == 'Bachelor\'s Degree' %}selected{% endif %}>Bachelor's Degree</option>
                    <option value="Master's Degree" {% if healthworker.qualifications == 'Master\'s Degree' %}selected{% endif %}>Master's Degree</option>
                    <option value="Doctorate (PhD)" {% if healthworker.qualifications == 'Doctorate (PhD)' %}selected{% endif %}>Doctorate (PhD)</option>
                    <option value="Professional Degree" {% if healthworker.qualifications == 'Professional Degree' %}selected{% endif %}>Professional Degree</option>
                </select>
            </div>
            <div class="form-group mb-3">
                <label for="experience">Experience:</label>
                <select class="form-control" id="experience" name="experience" required>
                    <option value="Less than 1 year">Less than 1 year</option>
                    <option value="1-2 years">1-2 years</option>
                    <option value="3-5 years">3-5 years</option>
                    <option value="6-10 years">6-10 years</option>
                    <option value="More than 10 years">More than 10 years</option>
                </select>
            </div>
            <div class="form-group mb-3">
                <label for="specializations">Specializations:</label>
                <select class="form-control" id="specializations" name="specializations">
                    <option value="Not applicable">---</option>
                    <option value="Allergy and Immunology">Allergy and Immunology</option>
                    <option value="Anesthesiology">Anesthesiology</option>
                    <option value="Cardiology">Cardiology</option>
                    <option value="Dermatology">Dermatology</option>
                    <option value="Emergency Medicine">Emergency Medicine</option>
                    <option value="Endocrinology">Endocrinology</option>
                    <option value="Family Medicine">Family Medicine</option>
                    <option value="Gastroenterology">Gastroenterology</option>
                    <option value="Geriatrics">Geriatrics</option>
                    <option value="Hematology">Hematology</option>
                    <option value="Infectious Disease">Infectious Disease</option>
                    <option value="Internal Medicine">Internal Medicine</option>
                    <option value="Medical Genetics">Medical Genetics</option>
                    <option value="Nephrology">Nephrology</option>
                    <option value="Neurology">Neurology</option>
                    <option value="Obstetrics and Gynecology">Obstetrics and Gynecology</option>
                    <option value="Oncology">Oncology</option>
                    <option value="Ophthalmology">Ophthalmology</option>
                    <option value="Orthopedics">Orthopedics</option>
                    <option value="Otolaryngology (ENT)">Otolaryngology (ENT)</option>
                    <option value="Pathology">Pathology</option>
                    <option value="Pediatrics">Pediatrics</option>
                    <option value="Physical Medicine and Rehabilitation">Physical Medicine and Rehabilitation</option>
                    <option value="Plastic Surgery">Plastic Surgery</option>
                    <option value="Psychiatry">Psychiatry</option>
                    <option value="Pulmonology">Pulmonology</option>
                    <option value="Radiology">Radiology</option>
                    <option value="Rheumatology">Rheumatology</option>
                    <option value="Sleep Medicine">Sleep Medicine</option>
                    <option value="Sports Medicine">Sports Medicine</option>
                    <option value="Surgery (General Surgery)">Surgery (General Surgery)</option>
                    <option value="Thoracic Surgery">Thoracic Surgery</option>
                    <option value="Urology">Urology</option>
                    <option value="Vascular Surgery">Vascular Surgery</option>
                    <option value="Other">Other</option>
                </select>
            </div>
            <div class="form-group">
                <label for="availability">Availability:</label>
                <select class="form-control" id="availability" name="availability">
                    <option value="Available" {% if healthworker.availability == 'Available' %}selected{% endif %}>Available</option>
                    <option value="Full-time" {% if healthworker.availability == 'Full-time' %}selected{% endif %}>Available Full-time</option>
                    <option value="Part-time" {% if healthworker.availability == 'Part-time' %}selected{% endif %}>Available Part-time</option>
                    <option value="Employed" {% if healthworker.availability == 'Employed' %}selected{% endif %}>Employed</option>
                    <option value="Unavailable" {% if healthworker.availability == 'Unavailable' %}selected{% endif %}>Unavailable</option>
                </select>
            </div>
            <div class="form-group">
                <label for="location">Location:</label>
                <input type="text" class="form-control" id="location" name="location" value="{{ healthworker.location }}" required>
            </div>
            <div class="form-group">
                <label for="worker_type">Worker Type:</label>
                <select class="form-control" id="worker_type" name="worker_type">
                    <option value="Anesthesiologist" {% if healthworker.worker_type == 'Anesthesiologist' %}selected{% endif %}>Anesthesiologist</option>
                    <option value="Audiologist" {% if healthworker.worker_type == 'Audiologist' %}selected{% endif %}>Audiologist</option>
                    <option value="Chiropractor" {% if healthworker.worker_type == 'Chiropractor' %}selected{% endif %}>Chiropractor</option>
                    <option value="Dentist" {% if healthworker.worker_type == 'Dentist' %}selected{% endif %}>Dentist</option>
                    <option value="Dietitian and Nutritionist" {% if healthworker.worker_type == 'Dietitian and Nutritionist' %}selected{% endif %}>Dietitian and Nutritionist</option>
                    <option value="Medical Laboratory Technician" {% if healthworker.worker_type == 'Medical Laboratory Technician' %}selected{% endif %}>Medical Laboratory Technician</option>
                    <option value="Midwife" {% if healthworker.worker_type == 'Midwife' %}selected{% endif %}>Midwife</option>
                    <option value="Nurse" {% if healthworker.worker_type == 'Nurse' %}selected{% endif %}>Nurse</option>
                    <option value="Nursing Aide / Care Nursing Assistant / Caregiver" {% if healthworker.worker_type == 'Nursing Aide / Care Nursing Assistant / Caregiver' %}selected{% endif %}>Nursing Aide / Care Nursing Assistant / Caregiver</option>
                    <option value="Occupational Therapist" {% if healthworker.worker_type == 'Occupational Therapist' %}selected{% endif %}>Occupational Therapist</option>
                    <option value="Optometrist" {% if healthworker.worker_type == 'Optometrist' %}selected{% endif %}>Optometrist</option>
                    <option value="Paramedic and Emergency Medical Technician (EMT)" {% if healthworker.worker_type == 'Paramedic and Emergency Medical Technician (EMT)' %}selected{% endif %}>Paramedic and Emergency Medical Technician (EMT)</option>
                    <option value="Pharmacist" {% if healthworker.worker_type == 'Pharmacist' %}selected{% endif %}>Pharmacist</option>
                    <option value="Physical Therapist" {% if healthworker.worker_type == 'Physical Therapist' %}selected{% endif %}>Physical Therapist</option>
                    <option value="Physician Assistant" {% if healthworker.worker_type == 'Physician Assistant' %}selected{% endif %}>Physician Assistant</option>
                    <option value="Physician and Surgeon" {% if healthworker.worker_type == 'Physician and Surgeon' %}selected{% endif %}>Physician and Surgeon</option>
                    <option value="Podiatrist" {% if healthworker.worker_type == 'Podiatrist' %}selected{% endif %}>Podiatrist</option>
                    <option value="Psychologist" {% if healthworker.worker_type == 'Psychologist' %}selected{% endif %}>Psychologist</option>
                    <option value="Radiologic Technologist" {% if healthworker.worker_type == 'Radiologic Technologist' %}selected{% endif %}>Radiologic Technologist</option>
                    <option value="Respiratory Therapist" {% if healthworker.worker_type == 'Respiratory Therapist' %}selected{% endif %}>Respiratory Therapist</option>
                    <option value="Social Worker" {% if healthworker.worker_type == 'Social Worker' %}selected{% endif %}>Social Worker</option>
                    <option value="Speech-Language Pathologist" {% if healthworker.worker_type == 'Speech-Language Pathologist' %}selected{% endif %}>Speech-Language Pathologist</option>
                    <option value="Other" {% if healthworker.worker_type == 'Other' %}selected{% endif %}>Other</option>
                </select>
            </div>
            <div class="form-group">
                <label for="status">Status:</label>
                <input type="text" class="form-control" id="status" name="status" value="{{ healthworker.status }}" readonly>
            </div>

            <!-- CV Upload -->
            <div class="form-group">
                <label for="cv">CV Upload:</label>
                {% if healthworker.cv %}
                    <p><a href="{{ url_for('download_cv', filename=healthworker.cv) }}" target="_blank">Download CV</a></p>
                {% else %}
                    <p class="text-warning">Please upload your CV <a href="{{ url_for('upload_cv') }}">here</a>.</p>
                {% endif %}
            </div>

            <!-- Certification Upload -->
            <div class="form-group">
                <label for="certification">Certification Upload:</label>
                {% if healthworker.certification %}
                    <p><a href="{{ url_for('download_certification', filename=healthworker.certification) }}" target="_blank">Download Certification</a></p>
                {% else %}
                    <p class="text-warning">Please upload your Certification <a href="{{ url_for('upload_certification') }}">here</a>.</p>
                {% endif %}
            </div>

            <!-- Profile Picture -->
            <div class="form-group">
                <label for="profile_picture">Profile Picture:</label>
                {% if healthworker.profile_picture %}
                    <img src="{{ url_for('download_profile_picture', filename=healthworker.profile_picture) }}" alt="Profile Picture" class="img-fluid">
                {% else %}
                    <p class="text-warning">Please upload your Profile Picture <a href="{{ url_for('upload_profile_picture') }}">here</a>.</p>
                {% endif %}
            </div>

            <div class="form-group text-center">
                <button type="submit" class="btn btn-primary btn-lg">Update Profile</button>
            </div>
        </form>
    </div>

    {% if healthworker.is_assigned %}
    <div class="task-section mt-5">
        <h3>Assigned Task</h3>
        <div class="form-group">
            <label for="assigned_facility">Assigned Facility:</label>
            <input type="text" class="form-control" id="assigned_facility" value="{{ healthworker.facility.name }} - {{ healthworker.facility.location }}" readonly>
        </div>
        <div class="form-group">
            <label for="task_status">Task Status:</label>
            <input type="text" class="form-control" id="task_status" value="{{ healthworker.assigned_task }}" readonly>
        </div>
    </div>
    {% endif %}
</div>

{% endblock %}
